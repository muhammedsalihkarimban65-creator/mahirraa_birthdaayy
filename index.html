<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Mahira ğŸ’–</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&family=Parisienne&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff85a1; --dark-pink: #ff4d6d; --bg: #fff0f3; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body { 
            margin: 0; background: var(--bg); font-family: 'Poppins', sans-serif; 
            height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; 
        }

        /* START OVERLAY */
        #musicOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: linear-gradient(45deg, var(--pink), var(--dark-pink)); z-index: 1000; 
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; cursor: pointer; transition: 1s ease;
        }
        
        .container { 
            width: 94%; max-width: 380px; height: 92vh; background: rgba(255, 255, 255, 0.98); 
            border-radius: 45px; border: 6px solid #fff; position: relative; 
            display: flex; flex-direction: column; padding: 25px; text-align: center; 
            box-shadow: 0 25px 50px rgba(255,133,161,0.4);
        }

        .screen { display: none; flex-direction: column; height: 100%; animation: fadeIn 0.8s ease-out; }
        .active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .title { font-family: 'Dancing Script', cursive; color: var(--dark-pink); font-size: 2.2rem; margin: 10px 0; }

        /* REPLACED PHOTOS WITH GLOWING HEART */
        .heart-placeholder {
            width: 100%; height: 210px; display: flex; justify-content: center; align-items: center;
            background: #fff; border-radius: 30px; border: 5px solid var(--pink);
            position: relative; overflow: hidden;
        }
        .main-heart { font-size: 80px; animation: pulse 1.2s infinite; }

        /* THE LETTER BOX */
        .envelope-space { position: relative; height: 320px; display: flex; justify-content: center; align-items: flex-end; padding-bottom: 20px; }
        .envelope-wrapper { position: relative; width: 230px; height: 140px; background: var(--pink); border-radius: 0 0 20px 20px; cursor: pointer; z-index: 10; }
        .envelope-wrapper::before { 
            content: ""; position: absolute; top: -80px; left: 0; 
            border-left: 115px solid transparent; border-right: 115px solid transparent; 
            border-bottom: 80px solid var(--pink); transition: 0.7s; transform-origin: bottom; z-index: 30; 
        }
        .letter { 
            position: absolute; bottom: 10px; left: 10px; width: 210px; height: 110px; 
            background: #fff; border-radius: 12px; padding: 25px; transition: 0.9s cubic-bezier(0.19, 1, 0.22, 1); 
            z-index: 5; box-shadow: 0 5px 15px rgba(0,0,0,0.1); overflow-y: auto; 
            text-align: left; font-size: 15px; line-height: 1.8; color: #444; border-top: 8px solid var(--pink);
        }
        .open .letter { transform: translateY(-310px); height: 520px; width: 340px; left: -55px; z-index: 40; }
        .open::before { transform: rotateX(180deg); z-index: 0; }

        #cakeCanvas { background: transparent; cursor: crosshair; touch-action: none; margin: 10px auto; }
        .btn { background: linear-gradient(to right, var(--dark-pink), #ff758c); color: white; border: none; padding: 18px; border-radius: 60px; font-weight: 600; cursor: pointer; margin-top: auto; font-size: 1.1rem; }

        .falling-heart { position: absolute; color: var(--dark-pink); font-size: 20px; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body>

<audio id="bgMusic" loop preload="auto"><source src="jhol.mp3" type="audio/mpeg"></audio>

<div id="musicOverlay" onclick="enableMusic()">
    <div style="font-size: 6rem; animation: pulse 1s infinite;">âœ¨ğŸâœ¨</div>
    <h2 style="font-family: 'Dancing Script'; font-size: 2rem; padding: 0 20px;">Tap for your Surprise, Mahira</h2>
</div>

<div class="container">
    <div class="screen active" id="s1">
        <h1 class="title">Happy Birthday My Pretty Mahira ğŸ’–</h1>
        <div class="heart-placeholder">
            <div class="main-heart">ğŸ’</div>
        </div>
        <p style="font-family:'Parisienne'; font-size: 1.7rem; color: var(--dark-pink); margin-top: 20px;">Every day is brighter with you...</p>
        <button class="btn" onclick="next('s2')">Read My Feelings ğŸ’Œ</button>
    </div>

    <div class="screen" id="s2">
        <h1 class="title">My Heart to Yours ğŸ’•</h1>
        <div class="envelope-space">
            <div class="envelope-wrapper" onclick="this.classList.toggle('open')">
                <div class="letter">
                    <p style="font-family:'Dancing Script'; font-size:1.8rem; color:var(--dark-pink); margin:0;">Mahira My Love,</p><br>
                    I have to confess something today... <b>I am totally addicted to your smile.</b>ğŸ«  Whenever you laugh, everything else just fades away. And your eyes? Iâ€™m obsessed with them. <br><br>
                    Even <b>during class, my eyes automatically search for you.</b> I don't know why, but I just need to see you to feel okay. ğŸ˜«<br><br>
                    Whenever we make eye contact, <b>the butterflies in my stomach are so strong</b> that I can't even think straight. <br><br>
                    Getting a text from you is the highlight of my day. It makes every bit of stress or pain vanish instantly. You are my peace and my everything.<br><br>
                    Please, <b>never make me a stranger and don't ever run away from me.</b> I want my whole future to be with you. I want to grow with you, protect you, and love you more every single day.<br><br>
                    <b>Happy Birthday to the most beautiful girl!</b> ğŸ˜šğŸ«¶ğŸ»ğŸ’—
                </div>
            </div>
        </div>
        <button class="btn" onclick="next('s3')">Cut Your Cake ğŸ‚</button>
    </div>

    <div class="screen" id="s3">
        <h1 class="title">Make a Wish, Mahira</h1>
        <canvas id="cakeCanvas" width="300" height="260"></canvas>
        <p id="cakeHint">Swipe to cut the cake! ğŸ”ª</p>
        <button class="btn" id="cakeBtn" style="display:none;" onclick="next('s4')">See My Secrets âœ¨</button>
    </div>

    <div class="screen" id="s4">
        <h1 class="title">Why I Love You ğŸ•¸ï¸</h1>
        <div style="display: grid; gap: 15px;">
            <div style="background:var(--pink); color:white; padding:18px; border-radius:25px; font-weight:600;">I'm addicted to your smile! ğŸ« </div>
            <div style="background:var(--pink); color:white; padding:18px; border-radius:25px; font-weight:600;">Your eyes are my favorite view! ğŸ‘€</div>
            <div style="background:var(--pink); color:white; padding:18px; border-radius:25px; font-weight:600;">I want my forever only with you! ğŸ </div>
        </div>
        <button class="btn" onclick="next('s5')">A Final Surprise ğŸ’</button>
    </div>

    <div class="screen" id="s5">
        <h1 class="title">Forever Yours</h1>
        <div style="background:#fff; padding:60px 30px; border-radius:40px; border: 5px dashed var(--dark-pink); position:relative;">
            <div style="font-size:6rem; animation: pulse 1.2s infinite; margin-bottom: 20px;">ğŸ’</div>
            <p style="font-weight:600; font-size: 1.5rem;">Happy Birthday Mahira!</p>
            <p style="font-family:'Parisienne'; font-size:2.8rem; color: var(--dark-pink); margin-top:10px;">Love You Always</p>
        </div>
        <button class="btn" onclick="location.reload()">Replay the Love âœ¨</button>
    </div>
</div>

<script>
    function enableMusic() {
        var music = document.getElementById('bgMusic');
        music.play();
        document.getElementById('musicOverlay').style.opacity = '0';
        setTimeout(() => { document.getElementById('musicOverlay').style.display = 'none'; }, 1000);
    }

    function next(id) { 
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active')); 
        document.getElementById(id).classList.add('active'); 
        if(id==='s3') drawCake(false);
        if(id==='s5') startHearts();
    }

    function drawCake(isCut) {
        const canvas = document.getElementById('cakeCanvas');
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0,0,300,260);
        ctx.fillStyle = "#ff85a1";
        ctx.beginPath(); ctx.ellipse(150, 190, 85, 42, 0, 0, Math.PI * 2); ctx.fill();
        ctx.fillRect(65, 140, 170, 50);
        ctx.fillStyle = "#ffb3c6";
        ctx.beginPath(); ctx.ellipse(150, 140, 85, 42, 0, 0, Math.PI * 2); ctx.fill();
        ctx.fillStyle = "#ff4d6d"; ctx.fillRect(146, 75, 8, 45);
        ctx.fillStyle = "#ffd93d"; ctx.beginPath(); ctx.arc(150, 65, 12, 0, 7); ctx.fill();
        if(isCut) { 
            ctx.strokeStyle="#fff"; ctx.lineWidth=12; ctx.lineCap="round";
            ctx.beginPath(); ctx.moveTo(150,120); ctx.lineTo(150,225); ctx.stroke(); 
        }
        const handleCut = () => { if(!isCut){ drawCake(true); document.getElementById('cakeHint').innerHTML="<b>ğŸ‚ Happy Birthday Mahira! ğŸ‚</b>"; document.getElementById('cakeBtn').style.display="block"; }};
        canvas.onmousedown = handleCut; canvas.ontouchstart = handleCut;
    }

    function startHearts() {
        setInterval(() => {
            const heart = document.createElement('div');
            heart.innerHTML = 'â¤ï¸';
            heart.classList.add('falling-heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }, 300);
    }
</script>
<style> @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } } </style>
</body>
</html>
